---
title: 数据过滤
p: 前端/JS/数据过滤
date: 2019-12-10 09:37:26
tags: [JS]
categories: [前端,JS]
---
## filter

### 对象中包含子对象

如果需要用子对象中的属性过滤，需要用forEach套filter，然后再filter过滤

```js
// 声明中间变量，用于第一层filter过滤的深拷贝
let newArr = []
// 先将所有数据深拷贝给需要过滤的数据
this.pzLeftData = JSON.parse(JSON.stringify(this.AllData))
// 第一层过滤
this.pzLeftData.forEach((value, index) => {
    newArr[index] = value
    // 将里层pzlist数组按照evidenceTypeCode过滤并声明一个新的数组复制给pzList
    newArr[index].pzList = value.pzList.filter(item => item.evidenceTypeCode === '2')
})
// 第二层过滤，讲里层数组个数为0的分类过滤掉
this.pzLeftData = this.pzLeftData.filter(pzType => pzType.pzList.length > 0)
```

{% asset_img all.png all%}
{% asset_img ff.png ff%}
{% asset_img xc.png xc%}
