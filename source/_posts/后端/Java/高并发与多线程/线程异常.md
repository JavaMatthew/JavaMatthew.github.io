---
title: 线程异常
p: 后端/Java/高并发与多线程/线程异常
date: 2020-03-05 15:15:10
tags: [Java,多线程]
categories: [Java,多线程]
---
## 线程异常

- 线程的未捕获异常UncaughtException应该如何处理？

- 为什么需要UncaughtException?
  - 主线程可用轻松发现异常，子线程却不行
  - 子线程异常无法用传统方法捕获
  - 不能直接捕获的后果、提高健壮性

### 两个解决方案

- 方案一（不推荐）：手动在每个run方法里面进行trycatch
- 方案二（推荐）：利用UncaughtExceptionHandler
  - UncaughtExceptionHandler接口
  - void uncaughtException(Thread t, Throwable e);
  - 异常处理器的调用策略
  - 自己实现
    - 给程序统一设置
    - 给每个线程单独设置
    - 给线程池设置

## 面试题

- Java异常体系
- 如何全局处理异常？ 为什么要全局处理？ 不处理行不行？
    设置一个自己的全局uncaughtException，不能不处理
- run方法是否可以抛出异常？如果抛出异常，线程的状态会怎么样？
    不可以，如果抛出异常会离开终止执行
- 线程中如何处理某个未处理异常？
    使用全局处理器，对异常进行处理
