---
title: 常用系统函数
p: 后端/php/常用系统函数
date: 2020-06-21 10:45:52
tags: php
categories: php
---
## 函数

### 函数的基本概念

函数：function,是一种语法结构，将实现某一个功能的代码块（多行代码）封装到一个结构中，从而实现代码的重复利用（复用）。

### 函数定义语法

函数有几个对应的关键点：function关键字、函数名、参数（形参和实参）、函数体和返回值

基本语法如下：
Function 函数名([参数]){
    // 函数体
    // 返回值：return 结果
}

定义函数的目的：是为了实现代码的重复利用，一个功能一个函数（简单明了）
函数的使用：通过访问函数的名字+(); // 如果函数在定义的过程中有参数，那么在调用的时候就必须传入对应的参数：函数是一种结构不会自动运行，必须通过调用才会执行。
函数是在代码执行阶段，碰到函数名字的时候才会调用，不是在编译阶段。

函数执行的内存分析：

1. 读取代码进入到代码段（编译：将代码编程字节码存储带内存）
2. 根据代码逐行执行

以上原因：编译和执行时分开的（先编译后执行）

## 参数

函数的参数分为两种：形参和实参

### 形参

形参：形式参数，不具有实际意义的参数，是在函数定义时使用的参数

### 实参

实参：实际参数，具有实际数据意义的参数，是在函数调用时使用的参数

形参是实参的载体：实参在调用时通常是需要传入到函数内部参与计算，那么需要在函数内部去找到实际数据所在的位置才能找到数据本身：需要实际调用的时候，将数据以实参的形式传递给形参：给形参赋值，从而使得函数内部可以用到外部数据。

### 默认值

默认值：default value，指的是形参的默认值，在函数定义的时候，就给形参进行一个初始赋值：如果实际调用传入的参数（实参）没有提供，那么形参就会使用定义时的值来进入函数内部参与运算。
通常默认值是用在一些，一定会有

```php
function jian($num = 0,$num1 = 0){ // 当前的$num1是形参，在编译时不执行，即便执行也是在jian函数内部，不会与玩不的$num1变量冲突
    echo $num - $num1;
}
// 调用：默认值如果存在，可以不用传入

jian(2);
```

#### 注意

1. 默认值的定义是放在最后边的（多个），不能左边形参有默认值，但是右边没有

函数外部定义的变量名字与函数定义的形参名字冲突（同名）是没有任何关联关系的；如果多个函数使用同样的形参名字也不冲突。

### 引用传递

实参在调用时会将值赋值给形参，那么实际上使用的方式就是一种简单的值传递：将实参（如果是变量或者常量或者其他表达式）的结果取出来赋值给形参：形参与外部实际传入的参数本身没有任何关联关系，只是结构一样。
**只有变量能够引用传递**

### 函数返回值

返回值：return，指的是将函数实现的结果，通过return关键字，返回给函数外部(函数调用处)：在PHP中所有的函数都有返回值。如果没有明确return使用，那么系统默认返回NULL）

### 可变函数

> 当前有一个变量所保存的值，刚好是一个函数的名字，那么捷克语使用变量+()来充当函数名使用。

```php
$a = 'display';

function display($num=0){
    echo $num;
}
s
$a();
```

### 匿名函数

> 没有名字的函数

```php
$a = function (){
    // 函数体
};

$a();
var_dump($a());

//object(Closure)#1 (0) { }  
```

变量保存匿名函数，本质得到的是一个对象。

#### 闭包

> Closure,一词源于一下两者的结合：要执行的代码块（由于自由变量呗包含在代码块中，这些自由变量以及他们引用的对象没有被释放）和为自由变量提供绑定的计算机环境（作用域）

## 输出函数

1. print(): 类似于echo输出提供的内容，本质是一种结构（不是函数），返回1，可以不需要使用括号
2. print_r(): 类似于var_dump,但是比var_dump简单，不会输出数据的类型，只会输出值

```php
$a = 'hello world<br/>';
echo print $a;  // hello world 1

print $a; // hello world

print_r($a); // hello world

hello world
1hello world
hello world
```

## 时间函数

1. date(): 按照9指定格式对应的时间戳（从1970年格林威治时间开始计算的秒数）如果没有特定格式的时间戳，返回time函数的时间戳
2. time(): 获取当前时间对应的时间戳
3. microtime(): 获取微秒级别的时间
4. Strtotime(): 按照规定格式的字符串转换成时间戳
