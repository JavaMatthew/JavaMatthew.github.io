---
title: TCP通信程序
p: 后端/网络编程/Socket套接字/TCP通信程序
date: 2020-05-14 10:31:17
tags: Socket
categories: Socket
---
## 概述

TCP通信能实现两台计算机之间的数据交互，通信的两端，要严格区分为客户端（Client）与服务端（Server）。

### 两端通信时步骤

1. 服务器端先启动
2. 服务器端不会主动的请求客户端
3. 必须使用客户端请求服务器端
4. 客户端和服务端就会建立一个逻辑连接
5. 而这个连接中包含一个对象
6. 这个对象就是IO对象
7. 客户端和服务器端就可以使用
8. IO对象进行通信
9. 通信的数据不仅仅是字符
10. 所以IO对象是字节流对象

服务端程序，需要事先启动，等待客户端的连接
客户端主动连接服务器端，连接成功才能通信。服务端不可以主动连接客户端。

服务端必须明确两件事情：

1. 多个客户端同时和服务器进行交互，服务器必须明确和哪个客户端进行的交互在服务器端有一个方法，叫accept客户端获取到请求的客户端对象
2. 多个客户端同时和服务器进行交互，就需要使用多个IO流对象
    服务器是没有IO流的，服务器可以获取到请求的客户端对象Socket
    使用每个客户单Socket中提供的IO流和客户端进行交互
        服务器使用客户端的字节流读取客户端发送的数据
        服务器使用客户端的字节流输出给客户端回写数据

### 在Java中，提供了两个类用于事先TCP通信程序

1. 客户端：java.net.Socket类标识。创建Socket对象，想服务端发送连接请求，服务端响应请求，两者建立连接开始通信。
2. 服务端：java.net,ServerSocket类表示。创建ServerSocket对象，相当于开启一个读物，并等待客户端的连接。

## Socket类

Socket类：该类实现客户端套接字，套接字指的是两台设备之间通讯的端点
